EXEC sp_columns @TABLE_NAME = 'TABELA DE CLIENTES', @TABLE_OWNER = 'dbo' -- verifica o detalhamento da estrutura das tabelas.

EXEC sp_columns @TABLE_NAME = 'TAB%', @TABLE_OWNER = 'dbo', @TABLE_QUALIFIER = 'ESQUINA_VENDAS'

--TABELA
SELECT * FROM [TABELA DE NOTAS FISCAIS] --87.877 registros

--ANÁLISE (QUERY DO PROFESSOR)
SELECT * FROM [TABELA DE NOTAS FISCAIS]
WHERE CPF = '5576228758' AND [DATA] >= '20160101' AND [DATA] <= '20161231' --1997 registros

--ANÁLISE (MINHA QUERY)
SELECT * FROM [TABELA DE NOTAS FISCAIS]
WHERE CPF = '5576228758' AND YEAR(DATA) = 2016  --1997 registros

--CRIAÇÃO DA PROCEDURE (QUERY DO PROFESSOR)
CREATE PROCEDURE BuscaNotasClientes
@CPF VARCHAR(12),
@DATA_INICIAL DATE = '20160101',
@DATA_FINAL DATE = '20161231'
AS
	BEGIN
		SELECT * FROM [TABELA DE NOTAS FISCAIS]
		WHERE CPF = '5576228758' AND [DATA] >= '20160101' AND [DATA] <= '20161231' --1997 registros
	END

